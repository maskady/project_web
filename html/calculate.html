<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>ImmoLuxe</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/calculate.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>

        footer{
            height:25vh;
            background-color: rgb(172, 169, 169);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        .col-md-4>a{
            color:black;
            font-size: 1.2rem;
        }
        .col-md-4>a:hover{
            text-decoration: none;
            color:black;
            font-weight: bold;
        }
    </style>
    
</head>

<body onload="loadSocialDoc()">
    <nav class="bar_navigation">
        <a href="../index.html" class="logo">ImmoLuxe</a>
        <div class="nav_liens">
            <ul>
                <li><a href="#" class="">Estimer votre bien</a></li>
                <li><a href="./achat.html" class="">Acheter</a></li>
                <li><a href="./prefer.html" class="">Favoris</a></li>
               
            </ul>
        </div>
        <a href="./login.html">
            <div class="compte"><img src="../data/icon_login.png"> Mon compte</div>
        </a>
        <img src="../data/menu2.png" alt="menu de navigation" class="menu">
    </nav>
    <header><img href="../data/background.jpeg"></header>
    <div class="calcul">
        <div class="box" id="choix">
            <div class="maison" onclick="choix(1)"><img src="../data/maison.png" alt="Icone de maison"
                    class="icon_choix1" id="icon_maison">Maison</div>
            <div class="appartement" onclick="choix(2)"><img src="../data/appartement.png" alt="Icone d'appartement"
                    class="icon_choix2" id="icon_appartement">Appartement</div>
        </div>
        <div class="box" id="arrondissement">
            <select name="arrondissement" id="select_arrondissement">
                <option value="0">--Sélectionnez votre arrondissement--</option>
                <option value="1">1<sup>er</sup> arrondissement</option>
                <option value="2">2<sup>e</sup> arrondissement</option>
                <option value="3">3<sup>e</sup> arrondissement</option>
                <option value="4">4<sup>e</sup> arrondissement</option>
                <option value="5">5<sup>e</sup> arrondissement</option>
                <option value="6">6<sup>e</sup> arrondissement</option>
                <option value="7">7<sup>e</sup> arrondissement</option>
                <option value="8">8<sup>e</sup> arrondissement</option>
                <option value="9">9<sup>e</sup> arrondissement</option>
                <option value="10">10<sup>e</sup> arrondissement</option>
                <option value="11">11<sup>e</sup> arrondissement</option>
                <option value="12">12<sup>e</sup> arrondissement</option>
                <option value="13">13<sup>e</sup> arrondissement</option>
                <option value="14">14<sup>e</sup> arrondissement</option>
                <option value="15">15<sup>e</sup> arrondissement</option>
                <option value="16">16<sup>e</sup> arrondissement</option>
                <option value="17">17<sup>e</sup> arrondissement</option>
                <option value="18">18<sup>e</sup> arrondissement</option>
                <option value="19">19<sup>e</sup> arrondissement</option>
                <option value="20">20<sup>e</sup> arrondissement</option>
            </select>
        </div>
        <div class="box" id="surface">            
                <div class="contain_surface">
                    <div class="group">
                        <input type="text" required id="value_surface">
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label id="word">Surface</label>
                    </div>

                    <div class="group">
                        <input type="text" required id="value_nbpieces">
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Nombre de pièce(s)</label>
                    </div>
                </div>

        </div>
        <div class="box" id="immeuble">
            <div class="contain_surface">
                <div class="group">
                    <input type="text" required id="value_nbetages_immeuble">
                    <span class="highlight"></span>
                    <span class="bar"></span>
                    <label>Etages de l'immeuble</label>
                </div>

                <div class="group">
                    <input type="text" required id="value_nbetages_bien">
                    <span class="highlight"></span>
                    <span class="bar"></span>
                    <label>Etages du bien</label>
                </div>
            </div>
        </div>
        <div class="box" id="estimation">
            <button type="submit" onclick="price()" id="button_price">Voir votre estimation :</button>
            <div class="res_price"></div>
        </div>

    </div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <a href="#">A propos</a>
                    <br>
                    <a href="#">Mentions légales</a>
                    <br>
                    <a href="#">Politique de confidentialité</a>
                </div>
                <div class="col-md-4">
                    <a href="#" id="instagram">Instagram</a>
                    <br>
                    <a href="#" id="facebook" >Facebook</a>
                    <br>
                    <a href="#" id="twitter">Twitter</a>
                </div>
                <div class="col-md-4">
                    <a href="#">florent.delalande@etudiant.univ-brest.fr <br> 6 Avenue Victor le Gorgeu, 29200 Brest</a>
                    <br>
                    <a href="#">FAQ</a>
                    <br>
                    <a href="#">Plan du site</a>
                </div>
            </div>
        </div>
    
    </footer>
    <script src="../js/sociaux.js"></script>
    <script>
        const menu = document.getElementsByClassName("menu")[0]; // Sélectionnez le premier élément avec la classe "menu"
        const navLiens = document.getElementsByClassName("nav_liens")[0]; // Sélectionnez le premier élément avec la classe "nav_liens"
        menu.addEventListener('click', () => {
            navLiens.classList.toggle('mobile-menu'); //Si 'mobile-menu' est défini, ca le supprime, sinon ca l'ajoute
        });
        function choix(option) {
            if (option === 1) {
                let maisonDiv = document.getElementsByClassName('maison')[0];
                let appartementDiv = document.getElementsByClassName('appartement')[0];
                maisonDiv.style.border = '2px solid black';
                appartementDiv.style.border = '2px solid white';
            } else if (option === 2) {
                let maisonDiv = document.getElementsByClassName('maison')[0];
                let appartementDiv = document.getElementsByClassName('appartement')[0];
                maisonDiv.style.border = '2px solid white';
                appartementDiv.style.border = '2px solid black';
            }
        }
        function price() {
            let maisonDiv = document.getElementsByClassName('maison')[0];
            let appartementDiv = document.getElementsByClassName('appartement')[0];
            let value_arrondissement = parseInt(document.getElementById("select_arrondissement").value);
            let res = 0;
            let value_surface = document.getElementById("value_surface").value;
            let value_nbpieces = document.getElementById("value_nbpieces").value;
            let value_nbetages_immeuble = document.getElementById("value_nbetages_immeuble").value;
            let value_nbetages_bien = document.getElementById("value_nbetages_bien").value;
            if (maisonDiv.style.border == "2px solid black"){
                switch(value_arrondissement){
                    case 1 :
                        res = value_surface*13340;
                        break;
                    case 2 :
                        res = value_surface*12110;
                        break;
                    case 3 :
                        res = value_surface*12903;
                        break;
                    case 4 :
                        res = value_surface*13605;
                        break;
                    case 5 :
                        console.log("Dans le case 5");
                        res = value_surface*12757;
                        
                        break;
                    case 6 :
                        res = value_surface*14873;
                        break;
                    case 7 :
                        res = value_surface*14648;
                        break;
                    case 8 :
                        res = value_surface*11924;
                        break;
                    case 9 :
                        res = value_surface*11596;
                        break;
                    case 10 :
                        res = value_surface*10674;
                        break;
                    case 11 :
                        res = value_surface*10862;
                        break;
                    case 12 :
                        res = value_surface*10088;
                        break;
                    case 13 :
                        res = value_surface*9583;
                        break;
                    case 14 :
                        res = value_surface*10529;
                        break;
                    case 15 :
                        res = value_surface*10619;
                        break;
                    case 16 :
                        res = value_surface*11697;
                        break;
                    case 17 :
                        res = value_surface*11378;
                        break;
                    case 18 :
                        res = value_surface*10347;
                        break;
                    case 19 :
                        res = value_surface*9132;
                        break;
                    case 20 :
                        res = value_surface*9464;
                        break;
                    default:
                        alert("Veuillez sélectionnez un arrondissement");
                        break;
                }
                res = Math.round(res/1000);
                document.getElementsByClassName("res_price")[0].innerHTML = "La valeur du bien estimé est " + res + " 000€";
            }
            else if(appartementDiv.style.border == "2px solid black"){
                switch(value_arrondissement){
                    case 1 :
                        res = value_surface*13340;
                        break;
                    case 2 :
                        res = value_surface*12110;
                        break;
                    case 3 :
                        res = value_surface*12903;
                        break;
                    case 4 :
                        res = value_surface*13605;
                        break;
                    case 5 :
                        console.log("Dans le case 5");
                        res = value_surface*12757;
                        
                        break;
                    case 6 :
                        res = value_surface*14873;
                        break;
                    case 7 :
                        res = value_surface*14648;
                        break;
                    case 8 :
                        res = value_surface*11924;
                        break;
                    case 9 :
                        res = value_surface*11596;
                        break;
                    case 10 :
                        res = value_surface*10674;
                        break;
                    case 11 :
                        res = value_surface*10862;
                        break;
                    case 12 :
                        res = value_surface*10088;
                        break;
                    case 13 :
                        res = value_surface*9583;
                        break;
                    case 14 :
                        res = value_surface*10529;
                        break;
                    case 15 :
                        res = value_surface*10619;
                        break;
                    case 16 :
                        res = value_surface*11697;
                        break;
                    case 17 :
                        res = value_surface*11378;
                        break;
                    case 18 :
                        res = value_surface*10347;
                        break;
                    case 19 :
                        res = value_surface*9132;
                        break;
                    case 20 :
                        res = value_surface*9464;
                        break;
                    default:
                        alert("Veuillez sélectionnez un arrondissement");
                        break;
                }
                res *=0.8;
                if(value_nbetages_bien == 0){
                    res *=0.85;
                }
                else if((value_nbetages_immeuble-value_nbetages_bien)<=1){
                    res *=1.15;
                }
                res = Math.round(res/1000);
                document.getElementsByClassName("res_price")[0].innerHTML = "La valeur du bien estimé est " + res + " 000€";
            }
            else{
                alert("Veuillez choisir si c'est une maison ou un appartement");
            }
            
        }   
    </script>
</body>

</html>